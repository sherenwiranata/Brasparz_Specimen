/* ========================================================= Font & base ========================================================= */
@font-face{
  font-family:"BrasparzWeb";
  src:url("../assets/fonts/CLM-BrasparzVF.woff2") format("woff2");
  font-weight:100 900;
  font-style:normal;
  font-display:swap;
}

/* Optional: only keep if you actually use these in HTML */
.weight-0   { font-variation-settings:"wght" 0; }
.weight-25  { font-variation-settings:"wght" 25; }
.weight-50  { font-variation-settings:"wght" 50; }
.weight-75  { font-variation-settings:"wght" 75; }
.weight-100 { font-variation-settings:"wght" 100; }

/* prevent fake bold on headings */
h1,h2,h3,h4,h5,h6{
  font-weight:100;
  font-synthesis-weight:none;
  font-family:"BrasparzWeb",sans-serif;
}


/* ========================================================= Tokens ========================================================= */
:root{
  /* paper + noise */
  --bg:#f4efe4;
  --grain-opacity:.20;

  /* spotlight tokens (available to everything on page) */
  --mx:50vw;   /* cursor X */
  --my:50vh;   /* cursor Y */
  --r:250px;   /* spotlight radius default */
  --feather:0px;

  /* credits sizing */
  --credits-base:clamp(28px,4.6vmin,60px);
  --ui-sans:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
}


/* ========================================================= Base layout ========================================================= */
html,body{
  height:100%;
  margin:0;
  background:var(--bg);
  color:#000;
  overflow:hidden;
  font-family:"BrasparzWeb",system-ui,sans-serif;
  scrollbar-width: none; 
}
html::-webkit-scrollbar {
  display: none;  
}
.wrap{
  height:100%;
  display:grid;
  place-items:center;
  overflow:visible;
}

svg{
  width:clamp(1000px,70vw,3000px);
  height:auto;
  display:block;
  overflow:visible;
}

/* stencil blocks */
.block{
  transform-box:fill-box;
  transform-origin:center;
  transition:transform .12s cubic-bezier(.2,.8,.2,1);
  will-change:transform;
}


/* ========================================================= Scenes (fade overlays) ========================================================= */
.scene{
  position:fixed;
  inset:0;
  display:grid;
  place-items:center;
  opacity:0;
  pointer-events:none;
  transition:opacity .8s ease;
  z-index:6; /* sits above spotlight & grain */
}
.scene.is-visible{ opacity:1; pointer-events:auto; }
.scene--black{ background:#000; color:#fff; }

.scene__content{
  font-size:clamp(24px,4vmin,48px);
  font-variation-settings:"wght" 0;
  letter-spacing:.06em;
  text-transform:uppercase;
}

/* ========================================= Spotlight (mouse-follow “light”) ================================= */
body::after{
  content:"";
  position: fixed;
  inset: 0;
  pointer-events: none;               /* never blocks your SVG events */
  z-index: 2;                         /* above grain & SVG */
  opacity: 0;                         /* hidden until hover */
  transition: opacity .20s ease;

  /* spotlight controls (can be tuned from JS or here) */
  --r: 250px;                         /* light radius */
  --feather: 0px;                   /* softness */

  background:
    radial-gradient(circle at var(--mx) var(--my),
      rgba(0,0,0,0) 0,
      rgba(0,0,0,0) var(--r),
      rgba(0,0,0,.90) calc(var(--r) + var(--feather) - 40px),
      rgba(0,0,0,.90) calc(var(--r) + var(--feather))
    );
  mix-blend-mode: multiply;           /* plays nicely with your warm bg */
}

/* Show spotlight only when hovering the hero area */
body.spot-on::after{ opacity: 1; }

/* Make sure your scenes still sit on top when visible */
.scene{ z-index: 6; }

body.spot-fixed::after{
  --mx: 50vw;
  --my: 50vh;
  --r: clamp(200px, 25vw, 450px);   /* bigger “stage” */
  --feather: 0px;
}
/* Credits typography overrides */
#scene-credits .scene__content{
  text-transform: none;                 /* override your uppercase */
  letter-spacing:.02em;
  font-variation-settings: "wght" 25;
  text-align:center;
  color:#101010;
  font-size: clamp(22px, 3.6vmin, 42px);
}
#scene-credits .kicker{ font-size:.85em; opacity:.85; display:block; }

/* Credit styling */
#scene-credits .eyebrow{
  display:block;
  font-size:.85em;
  letter-spacing:.06em;
  text-transform: uppercase;
  opacity:.85;
}
#scene-credits .name{
  display:block;
  font-size:1.05em;
  margin-top:.25em;
  font-variation-settings:"wght" 75;
}

/*=========================================== styling for credits in opening =====================================*/
:root{
  /* cross-platform UI sans stack */
  --ui-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;

  /* base and per-part sizes */
  --credits-base:  clamp(28px, 4.6vmin, 60px);
  --credits-title: 1.8;  /* “Building a new Deco City” */
  --credits-role:  0.5;  /* “Type designer / Type Foundry” */
  --credits-name:  3.8;  /* “Charlie Le Maignan” */
}

/* --- Credits typography (consolidated) --- */
#scene-credits{ font-synthesis-weight: none; } /* no fake bold anywhere */
#scene-credits .scene__content{ font-size: var(--credits-base); }
/* tighten the line spacing in credits */
#scene-credits .scene__content{ line-height: 1.2; }  /* was default ~1.2 */

/* pull the name closer to the role even with a <br> */
#scene-credits .scene__content br + .name{
  display:inline-block;
  line-height:0.75;
}

#scene-credits .role{
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  font-weight: 300;
  letter-spacing: .06em;
  text-transform: uppercase;
  opacity: .9;
  font-size: calc(1em * var(--credits-role));
}

#scene-credits .name,
#scene-credits .title{
  font-family: "BrasparzWeb", sans-serif;
  letter-spacing: .01em;
}

#scene-credits .name{
  font-variation-settings: "wght" 75;
  font-size: calc(1em * var(--credits-name));
}

#scene-credits .role + br + .name {
  color: #0557ad;
}

/* --- Two-line title inside the spotlight (OVERRIDES previous .title) --- */
#scene-credits .title{
  display:inline-flex;
  flex-direction:column;
  align-items:center;
  text-align:center;
  font-size: calc(var(--r) * 0.155);   /* scales with spotlight radius */
  transform: translateY(-2px);         /* optical lift in the circle */
  color:#101010;
}

/* line 1: lighter, a bit more air */
#scene-credits .title .line1{
  font-weight: 300;
  letter-spacing: .015em;
  font-size: 1em;
  font-synthesis-weight: none;         /* prevent fake bold/changes */
  font-size: 0.5em;
  line-height: 1.3;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
}

/* line 2: hero – bigger + heavier, slightly tighter */
#scene-credits .title .line2{
  font-variation-settings: "wght" 75;
  letter-spacing:.003em;               /* 0 to .003em; avoid extra tracking */
  font-size: 3.5em;
  color: #e8b800;
}

/* Optional size presets you can toggle via JS: credits.classList.add('size-lg') */
#scene-credits.size-sm .scene__content{ font-size: calc(var(--credits-base) * .85); }
#scene-credits.size-lg .scene__content{ font-size: calc(var(--credits-base) * 1.25); }

/* Mobile fine-tune (optional) */
@media (max-width: 480px){
  :root{ --credits-base: clamp(22px, 5.2vmin, 34px); }
}


/*============================================ web page ================================================*/
/* unlock scroll when the real site is on */
/* When the real site is shown, allow scrolling */
html.app-on, body.app-on { overflow: auto; }

/* Landing hero sits in its own blend stack, so grain doesn't tint the whole page */
.landing-hero{
  position: relative;
  isolation: isolate;              /* <-- important for mix-blend-mode scoping */
  width: 100%;
  min-height: calc(100svh - var(--nav-h));
  overflow: hidden;
  background: var(--paper, #f4efe4);
}

/* Video as the base layer */
.landing-hero > video{
  position: relative;
  z-index: 1;
  width: 100%;
  height: 100%;
  object-fit: cover;               /* use 'contain' if you never want cropping */
  display: block;
  pointer-events: none;
}



/* Optional: once the site is on, stop centering the #wrap grid */
body.app-on .wrap{
  display: block;        /* your .wrap was grid+center for the SVG intro */
  place-items: initial;
  height: auto;
}



/* the actual page wrapper should sit above the grain */
.site { position: relative; z-index: 5; }


/* (optional) hide navbar too until app-on */
body:not(.app-on) .topnav { display: none; }
/* ==== Global page gutters (one source of truth) ==== */
:root{
  --page-max: 1740px;                         /* your content width cap */
  --page-pad: clamp(20px, 6.5vw, 96px);         /* side padding from the screen */
}

/* Reusable container: nav + all sections use this */
.container,
.topnav__inner{
  width: min(var(--page-max), 100% - 2 * var(--page-pad));
  margin-inline: auto;                        /* centers the line */
}

/* ===== Top Nav (no more hard-coded gaps/widths) ===== */
.topnav {
  position: sticky;
  top: 0;
  z-index: 7;
  background: var(--bg); /* same paper base */
  border-top: .5px solid #2F2C2C;
  border-bottom: 2px solid #2F2C2C;

  /* important: create a stacking context so grain overlays only inside */
  isolation: isolate;
}


.topnav__inner{
  display: flex;
  align-items: center;
  justify-content: space-between;             /* distributes links across width */
  gap: clamp(12px, 3vw, 40px);
   padding-block: clamp(4px, 2vw, 15px);  /* much smaller */
}

.topnav a {
  font-weight: 450;
  font-synthesis-weight: none;
  color: #2F2C2C;
  text-decoration: none;
  letter-spacing: .04em;
  line-height: 1;
  padding: 0;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;

  flex: 1 1 0;               
  text-align: center;

  transition: color .15s ease, background .15s ease;
}

/* ===== Sections use the same container gutters ===== */
.section{ padding-block: clamp(48px, 10vw, 120px); background: var(--paper); }

/* If it's the first section after the nav */
.section:first-of-type {
  padding-top: clamp(16px, 18vw, 70px);
}


/* Overview 3-col grid stays the same, but sits inside .container */
/* One knob for the column width (same for all three) */
:root{
  --overview-col-w: clamp(32ch, 45vw, 55ch);
}

.overview-grid{
  display: grid;
  gap: clamp(16px, 2vw, 30px);

  /* 3 equal-width tracks; grid is narrower than container */
  grid-template-columns: repeat(3, minmax(0, var(--overview-col-w)));

  /* Push first to left, last to right, middle in between */
  justify-content: space-between;
  align-items: start;
}
.overview-grid p{ font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, 
  "Helvetica Neue", Arial, sans-serif; 
  font-size: clamp(16px, 1.7vw, 18px); 
  line-height: 1.45; 
  font-weight: 400; 
  color: #191818; 
}

/* ↓ Responsive fallbacks: 2 cols, then 1 col */
@media (max-width: 1200px){
  .overview-grid{
    grid-template-columns: repeat(2, minmax(0, var(--overview-col-w)));
  }
}
@media (max-width: 720px){
  .overview-grid{
    grid-template-columns: minmax(0, 1fr);
    justify-content: start; /* normal single column */
  }
}

/* No per-column max-widths now — let tracks control width */
.overview-grid .col{ max-width: none; }







/* Container sizing (matches your gutters) */
.alpha-spot{
  box-sizing: border-box;                 /* ← key */
  width: min(var(--page-max), 100vw);     /* full viewport, capped */
  margin-inline: auto;
  padding-inline: var(--page-pad);        /* gutters included in width */

  aspect-ratio: 16 / 12;
  position: relative;
  isolation: isolate;
  background: var(--bg);
  border-radius: 12px;
  overflow: hidden;

  --mx: 50%;
  --my: 50%;
  --r: 0vmin;
  --overlap: 2px;
}

.alpha-spot .alpha{
  position: absolute;
  inset: 0;              /* fills the padded box */
  width: 100%;
  height: fit-content;
  object-fit: contain;
  display: block;
}

/* Stack stays the same */
.upper{ z-index: 2; }   /* gets the hole cut out */
.lower{ z-index: 1; }   /* only visible inside the hole */

/* Cut a circular HOLE in the UPPER layer */
/* Hard-edged circular hole */
.upper{
  -webkit-mask: radial-gradient(circle var(--r) at var(--mx) var(--my),
                 transparent 100%, #000 0);
          mask: radial-gradient(circle var(--r) at var(--mx) var(--my),
                 transparent 100%, #000 0);
}

/* Lower visible ONLY inside circle, slightly bigger to cover any gap */
.lower{
  -webkit-mask: radial-gradient(circle calc(var(--r) + var(--overlap)) at var(--mx) var(--my),
                 #000 100%, transparent 0);
          mask: radial-gradient(circle calc(var(--r) + var(--overlap)) at var(--mx) var(--my),
                 #000 100%, transparent 0);
}

/* On hover, grow the reveal circle; off hover, r=0 so lowercase is fully hidden */
.alpha-spot:hover{ --r: 12vmin; }

/* (Optional) ensure the container gets the hover, not the images */
.alpha-spot .alpha { pointer-events: none; }










/* Weight controls */
.controls{
  display:flex; align-items:center; gap:12px;
  font-family: var(--ui-sans, system-ui, sans-serif);
  margin-bottom: clamp(12px, 2vw, 24px);
}
.controls input[type="range"]{ width: clamp(200px, 40vw, 480px); }
.controls output{ min-width: 2ch; text-align: right; }

/* Variable font hookup */
:root{ --wght: 50; }
.sample{
  font-family:"BrasparzWeb",sans-serif;
  font-variation-settings:"wght" var(--wght);
}

/* Display specimen */
.specimen--display{
  font-size: clamp(28px, 7vw, 84px);
  line-height: .95;
  letter-spacing: .01em;
  margin-bottom: clamp(16px, 3vw, 36px);
}

/* Weight tiles */
.weights-row{
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  gap: 16px;
}
.tile{
  padding: 14px 16px; border:1px solid #ddd; border-radius: 12px; background:#fff;
}
.tile span{
  display:block; font-family: var(--ui-sans, system-ui, sans-serif);
  font-size: 12px; letter-spacing:.06em; text-transform:uppercase; opacity:.7;
  margin-bottom: 6px;
}
.tile .sample{ font-variation-settings:"wght" var(--w); font-size: 36px; }

/* Alphabet */
.alpha-grid{
  display:grid; gap: 10px;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
}
.alpha-grid .sample{ font-size: clamp(20px, 3.2vw, 34px); }

/* Samples */
.sample--h1{ font-size: clamp(28px, 6.6vw, 72px); }
.sample--h2{ font-size: clamp(22px, 3.6vw, 44px); opacity:.9; }
.sample--body{
  font-size: clamp(16px, 2.2vw, 22px);
  max-width: 60ch;
}

/* OpenType list */
.features{
  columns: 2; gap: 28px;
  font-family: var(--ui-sans, system-ui, sans-serif);
}
.note{ font-family: var(--ui-sans, system-ui, sans-serif); opacity:.7; margin-top:8px; }

/* Tester */
#testerInput{
  width:100%;
  font: inherit;
  border:1px solid #ddd;
  border-radius: 10px;
  padding: 10px 12px;
  margin: 8px 0 14px;
  resize: vertical;
  background:#fff;
}
#testerSample{ min-height: 2.5em; }

/* Footer */
.footer{ text-align:center; color:#444; }
