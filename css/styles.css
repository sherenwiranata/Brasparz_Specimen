/* =========================================================
   Font & base
========================================================= */
@font-face{
  font-family:"BrasparzWeb";
  src:url("../assets/fonts/CLM-BrasparzVF.woff2") format("woff2");
  font-weight:100 900;
  font-style:normal;
  font-display:swap;
}

/* Optional: only keep if you actually use these in HTML */
.weight-0   { font-variation-settings:"wght" 0; }
.weight-25  { font-variation-settings:"wght" 25; }
.weight-50  { font-variation-settings:"wght" 50; }
.weight-75  { font-variation-settings:"wght" 75; }
.weight-100 { font-variation-settings:"wght" 100; }

/* prevent fake bold on headings */
h1,h2,h3,h4,h5,h6{
  font-weight:100;
  font-synthesis-weight:none;
  font-family:"BrasparzWeb",sans-serif;
}

/* =========================================================
   Tokens
========================================================= */
:root{
  /* paper + noise */
  --bg:#f4efe4;
  --grain-opacity:.20;

  /* spotlight tokens (available to everything on page) */
  --mx:50vw;   /* cursor X */
  --my:50vh;   /* cursor Y */
  --r:250px;   /* spotlight radius default */
  --feather:50px;

  /* credits sizing */
  --credits-base:clamp(28px,4.6vmin,60px);
  --ui-sans:"Helvetica Neue",Helvetica,Arial;
}

/* =========================================================
   Base layout
========================================================= */
html,body{
  height:100%;
  margin:0;
  background:var(--bg);
  color:#000;
  overflow:hidden;
  font-family:"BrasparzWeb",system-ui,sans-serif;
}

.wrap{
  height:100%;
  display:grid;
  place-items:center;
  overflow:visible;
}

svg{
  width:clamp(1000px,70vw,3000px);
  height:auto;
  display:block;
  overflow:visible;
}

/* stencil blocks */
.block{
  transform-box:fill-box;
  transform-origin:center;
  transition:transform .12s cubic-bezier(.2,.8,.2,1);
  will-change:transform;
}

/* =========================================================
   Scenes (fade overlays)
========================================================= */
.scene{
  position:fixed;
  inset:0;
  display:grid;
  place-items:center;
  opacity:0;
  pointer-events:none;
  transition:opacity .8s ease;
  z-index:6; /* sits above spotlight & grain */
}
.scene.is-visible{ opacity:1; pointer-events:auto; }
.scene--black{ background:#000; color:#fff; }

.scene__content{
  font-size:clamp(24px,4vmin,48px);
  font-variation-settings:"wght" 0;
  letter-spacing:.06em;
  text-transform:uppercase;
}

/* =========================================================
   Subtle moving grain
========================================================= */
body::before{
  content:"";
  position:fixed;
  inset:-40vmax;
  z-index:0;
  pointer-events:none;
  background-image:url("../assets/img/noisebg.png");
  background-size:350px 350px;
  opacity:var(--grain-opacity);
  mix-blend-mode:multiply;
  animation:grainShift 12s steps(10) infinite;
}
.wrap,.hint,svg{ position:relative; z-index:1; }

@keyframes grainShift{
  0%   { transform:translate3d(0,0,0) rotate(.2deg) }
  10%  { transform:translate3d(-3%,-6%,0) rotate(.4deg) }
  20%  { transform:translate3d(5%,-2%,0) rotate(-.1deg) }
  30%  { transform:translate3d(-7%,3%,0) rotate(.3deg) }
  40%  { transform:translate3d(4%,7%,0) rotate(-.2deg) }
  50%  { transform:translate3d(0,4%,0) rotate(.1deg) }
  60%  { transform:translate3d(6%,-4%,0) rotate(-.3deg) }
  70%  { transform:translate3d(-4%,2%,0) rotate(.2deg) }
  80%  { transform:translate3d(3%,-7%,0) rotate(-.2deg) }
  90%  { transform:translate3d(-2%,5%,0) rotate(.1deg) }
  100% { transform:translate3d(0,0,0) rotate(0deg) }
}

@media (prefers-reduced-motion:reduce){
  body::before{ animation:none; opacity:.1; }
}

/********* spotlight **********/
/* ================= Spotlight (mouse-follow “light”) ================= */
body::after{
  content:"";
  position: fixed;
  inset: 0;
  pointer-events: none;               /* never blocks your SVG events */
  z-index: 2;                         /* above grain & SVG */
  opacity: 0;                         /* hidden until hover */
  transition: opacity .20s ease;

  /* spotlight controls (can be tuned from JS or here) */
  --r: 250px;                         /* light radius */
  --feather: 50px;                   /* softness */

  background:
    radial-gradient(circle at var(--mx) var(--my),
      rgba(0,0,0,0) 0,
      rgba(0,0,0,0) var(--r),
      rgba(0,0,0,.75) calc(var(--r) + var(--feather) - 40px),
      rgba(0,0,0,.80) calc(var(--r) + var(--feather))
    );
  mix-blend-mode: multiply;           /* plays nicely with your warm bg */
}

/* Show spotlight only when hovering the hero area */
body.spot-on::after{ opacity: 1; }

/* Make sure your scenes still sit on top when visible */
.scene{ z-index: 6; }

body.spot-fixed::after{
  --mx: 50vw;
  --my: 50vh;
  --r: clamp(200px, 23vw, 500px);   /* bigger “stage” */
  --feather: clamp(50px, 3.8vw, 60px);
}
/* Credits typography overrides */
#scene-credits .scene__content{
  text-transform: none;                 /* override your uppercase */
  letter-spacing:.02em;
  font-variation-settings: "wght" 25;
  text-align:center;
  color:#101010;
  font-size: clamp(22px, 3.6vmin, 42px);
}
#scene-credits .kicker{ font-size:.85em; opacity:.85; display:block; }

/* Credit styling */
#scene-credits .eyebrow{
  display:block;
  font-size:.85em;
  letter-spacing:.06em;
  text-transform: uppercase;
  opacity:.85;
}
#scene-credits .name{
  display:block;
  font-size:1.05em;
  margin-top:.25em;
  font-variation-settings:"wght" 75;
}

/*********** styling for credits in opening ************/
:root{
  /* cross-platform UI sans stack */
  --ui-sans: Helvetica Neue, Helvetica, Arial;

  /* base and per-part sizes */
  --credits-base:  clamp(28px, 4.6vmin, 60px);
  --credits-title: 1.2;  /* “Building a new Deco City” */
  --credits-role:  0.5;  /* “Type designer / Type Foundry” */
  --credits-name:  1.5;  /* “Charlie Le Maignan” */
}

/* --- Credits typography (consolidated) --- */
#scene-credits{ font-synthesis-weight: none; } /* no fake bold anywhere */
#scene-credits .scene__content{ font-size: var(--credits-base); }
/* tighten the line spacing in credits */
#scene-credits .scene__content{ line-height: 1.2; }  /* was default ~1.2 */

/* pull the name closer to the role even with a <br> */
#scene-credits .scene__content br + .name{
  display:inline-block;
  margin-top:-0.12em;   /* tweak: -0.08em … -0.18em */
  line-height:1;
}

#scene-credits .role{
  font-family: "Helvetica Neue", Helvetica, Arial, var(--ui-sans), sans-serif;
  font-weight: 300;
  letter-spacing: .06em;
  text-transform: uppercase;
  opacity: .9;
  font-size: calc(1em * var(--credits-role));
}

#scene-credits .name,
#scene-credits .title{
  font-family: "BrasparzWeb", sans-serif;
  letter-spacing: .01em;
}

#scene-credits .name{
  font-variation-settings: "wght" 75;
  font-size: calc(1em * var(--credits-name));
}

/* --- Two-line title inside the spotlight (OVERRIDES previous .title) --- */
#scene-credits .title{
  display:inline-flex;
  flex-direction:column;
  align-items:center;
  text-align:center;
  line-height:1.0;
  gap:0.08em;                          /* 0.06–0.10em feels best */
  font-size: calc(var(--r) * 0.155);   /* scales with spotlight radius */
  transform: translateY(-2px);         /* optical lift in the circle */
  color:#101010;
}

/* line 1: lighter, a bit more air */
#scene-credits .title .line1{
  font-variation-settings: "wght" 0;   /* <- was 50 */
  letter-spacing: .015em;
  font-size: 1em;
  font-synthesis-weight: none;         /* prevent fake bold/changes */
  font-size: 1.2em;
  gap: 0.04em;
  line-height: 0.3;
}

/* line 2: hero – bigger + heavier, slightly tighter */
#scene-credits .title .line2{
  font-variation-settings: "wght" 78;  /* 72–82 sweet spot */
  letter-spacing:.003em;               /* 0 to .003em; avoid extra tracking */
  font-size: 3.5em;
  margin-top: -0.02em;
}

/* Optional size presets you can toggle via JS: credits.classList.add('size-lg') */
#scene-credits.size-sm .scene__content{ font-size: calc(var(--credits-base) * .85); }
#scene-credits.size-lg .scene__content{ font-size: calc(var(--credits-base) * 1.25); }

/* Mobile fine-tune (optional) */
@media (max-width: 480px){
  :root{ --credits-base: clamp(22px, 5.2vmin, 34px); }
}


/************************************** web page **************************************/
/* unlock scroll when the real site is on */
html, body { overflow: hidden; }
html.app-on, body.app-on { overflow: auto; }

/* the actual page wrapper should sit above the grain */
.site { position: relative; z-index: 3; }

/* (optional) hide navbar too until app-on */
body:not(.app-on) .topnav { display: none; }

/* Colors/Typography tokens */
:root{
  --paper: var(--bg);
  --ink:   #0e1e28;     /* deep blue/ink for nav lines/text */
}

/* Top Nav */
.topnav{
  position: sticky; top:0; z-index:7;
  background: rgba(244,239,228,.9);
  backdrop-filter: blur(4px);
  border-block: 2px solid var(--ink);
}
.topnav__inner{
  max-width: min(1200px, 92vw);
  margin: 0 auto;
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  gap: clamp(12px, 2.5vw, 36px);
  padding: clamp(10px, 1.2vw, 16px) 0;
}
.topnav a{
  color: var(--ink);
  text-decoration: none;
  font-family: var(--ui-sans, system-ui, sans-serif);
  font-weight: 600;
  letter-spacing: .04em;
  justify-self: center;
  padding: .25rem .5rem;
  border-radius: 6px;
}
.topnav a.active{ text-decoration: underline; }

/* Sections */
.section{ padding: clamp(48px, 10vw, 120px) 0; background: var(--paper); }
.section.hero{ background: #111; color:#fff; }
.container{ max-width: min(1200px, 92vw); margin: 0 auto; }

.logo-lockup{
  font-family: "BrasparzWeb", sans-serif;
  font-variation-settings:"wght" 75;
  font-size: clamp(40px, 10vw, 120px);
  letter-spacing: .02em;
  margin: 0 0 .5em;
}

.lede{
  font-family: var(--ui-sans, system-ui, sans-serif);
  font-size: clamp(20px, 2.6vw, 44px);
  line-height: 1.15;
  margin: 0 0 1em;
}
.meta{
  font-family: var(--ui-sans, system-ui, sans-serif);
  display: flex; flex-wrap: wrap; gap: 16px 28px;
  opacity: .9; margin: .5em 0 0;
  padding: 0; list-style: none;
}
.meta strong{ font-weight: 600; }

/* Weight controls */
.controls{
  display:flex; align-items:center; gap:12px;
  font-family: var(--ui-sans, system-ui, sans-serif);
  margin-bottom: clamp(12px, 2vw, 24px);
}
.controls input[type="range"]{ width: clamp(200px, 40vw, 480px); }
.controls output{ min-width: 2ch; text-align: right; }

/* Variable font hookup */
:root{ --wght: 50; }
.sample{
  font-family:"BrasparzWeb",sans-serif;
  font-variation-settings:"wght" var(--wght);
}

/* Display specimen */
.specimen--display{
  font-size: clamp(28px, 7vw, 84px);
  line-height: .95;
  letter-spacing: .01em;
  margin-bottom: clamp(16px, 3vw, 36px);
}

/* Weight tiles */
.weights-row{
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  gap: 16px;
}
.tile{
  padding: 14px 16px; border:1px solid #ddd; border-radius: 12px; background:#fff;
}
.tile span{
  display:block; font-family: var(--ui-sans, system-ui, sans-serif);
  font-size: 12px; letter-spacing:.06em; text-transform:uppercase; opacity:.7;
  margin-bottom: 6px;
}
.tile .sample{ font-variation-settings:"wght" var(--w); font-size: 36px; }

/* Alphabet */
.alpha-grid{
  display:grid; gap: 10px;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
}
.alpha-grid .sample{ font-size: clamp(20px, 3.2vw, 34px); }

/* Samples */
.sample--h1{ font-size: clamp(28px, 6.6vw, 72px); }
.sample--h2{ font-size: clamp(22px, 3.6vw, 44px); opacity:.9; }
.sample--body{
  font-size: clamp(16px, 2.2vw, 22px);
  max-width: 60ch;
}

/* OpenType list */
.features{
  columns: 2; gap: 28px;
  font-family: var(--ui-sans, system-ui, sans-serif);
}
.note{ font-family: var(--ui-sans, system-ui, sans-serif); opacity:.7; margin-top:8px; }

/* Tester */
#testerInput{
  width:100%;
  font: inherit;
  border:1px solid #ddd;
  border-radius: 10px;
  padding: 10px 12px;
  margin: 8px 0 14px;
  resize: vertical;
  background:#fff;
}
#testerSample{ min-height: 2.5em; }

/* Footer */
.footer{ text-align:center; color:#444; }
